import { getGitHubAuthToken } from "get-github-auth-token";
import { Octokit } from "octokit";
async function octokitFromAuthSafe(options) {
  const auth = await retrieveAuthSafe(options?.auth);
  return new Octokit({ ...options, auth });
}
async function retrieveAuthSafe(provided) {
  if (provided) {
    return provided;
  }
  if (provided === "") {
    return void 0;
  }
  const auth = await getGitHubAuthToken();
  if (auth.succeeded) {
    return auth.token;
  }
  return void 0;
}
export {
  octokitFromAuthSafe
};
//# sourceMappingURL=octokitFromAuthSafe.js.map