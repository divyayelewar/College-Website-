import { octokitFromAuth } from "octokit-from-auth";
import { clearLocalGitTags } from "./clearLocalGitTags.js";
export async function createRepositoryOnGitHub({ owner, repository }, runner, template) {
    const octokit = await octokitFromAuth();
    if (template) {
        await octokit.rest.repos.createUsingTemplate({
            name: repository,
            owner,
            template_owner: template.owner,
            template_repo: template.repository,
        });
        await clearLocalGitTags(runner);
        return;
    }
    const currentUser = await octokit.rest.users.getAuthenticated();
    if (currentUser.data.login === owner) {
        await octokit.rest.repos.createForAuthenticatedUser({
            name: repository,
        });
    }
    else {
        await octokit.rest.repos.createInOrg({
            name: repository,
            org: owner,
        });
    }
}
//# sourceMappingURL=createRepositoryOnGitHub.js.map